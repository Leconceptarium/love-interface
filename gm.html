<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>GM ðŸ’” Amour BrisÃ©</title>
</head>
<body>
  <h1>Interface Game Master ðŸ’”</h1>

  <!-- âž• AJOUT Dâ€™Ã‰QUIPE -->
  <section>
    <h2>Ajouter une Ã©quipe</h2>
    <input type="text" id="newTeamName" placeholder="Nom d'Ã©quipe">
    <button onclick="ajouterEquipe()">Ajouter</button>
  </section>

  <!-- ðŸ‘¥ LISTE DES Ã‰QUIPES -->
  <section id="liste-equipes">
    <!-- Remplie dynamiquement -->
    <div class="team-block">
      <input type="text" value="Team Passion" onchange="changerNom(this)">
      <button onclick="ajouterPoint(this)">+1</button>
      <button onclick="retirerPoint(this)">-1</button>
    </div>
  </section>

 <select onchange="choisirManche(this.value)">
  <option value="">Choisir une manche</option>
  <option value="rencard">Rencard ou Cauchemar</option>
  <option value="blindtest">Blind Test Toxique</option>
  <option value="cupidon">Cupidon DÃ©traquÃ©</option>
  <option value="tentacule">Tentacule ou Tentation</option>
  <option value="impossible">Amours Impossibles</option>
</select>

<script>
function ajouterEquipe() {
  const name = document.getElementById("newTeamName").value;
  if (!name) return;

  const teamBlock = document.createElement("div");
  teamBlock.className = "team-block";

  teamBlock.innerHTML = `
    <input type="text" value="${name}" onchange="changerNom(this)">
    <button onclick="ajouterPoint(this)">+1</button>
    <button onclick="retirerPoint(this)">-1</button>
  `;

  document.getElementById("liste-equipes").appendChild(teamBlock);

  const id = "life" + (document.querySelectorAll('.team-block').length);
  localStorage.setItem(id, 100);
}

function changerNom(input) {
  // facultatif : enregistrer le nom dans le localStorage si tu veux
}

function ajouterPoint(btn) {
  const index = Array.from(document.querySelectorAll('.team-block')).indexOf(btn.parentElement);
  const id = "life" + (index + 1);
  let val = parseInt(localStorage.getItem(id)) || 100;
  val = Math.min(100, val + 10);
  localStorage.setItem(id, val);
}

function retirerPoint(btn) {
  const index = Array.from(document.querySelectorAll('.team-block')).indexOf(btn.parentElement);
  const id = "life" + (index + 1);
  let val = parseInt(localStorage.getItem(id)) || 100;
  val = Math.max(0, val - 10);
  localStorage.setItem(id, val);
}

function choisirManche(val) {
  localStorage.setItem("mancheActive", val);
}
</script>
</body>
</html>
